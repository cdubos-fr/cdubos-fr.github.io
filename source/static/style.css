/* Palette & Reset */
:root {
  --color-bg: #ffffff;
  --color-surface: #f5f7f8;
  --color-border: #dcdfe3;
  --color-text: #1e2124;
  --color-muted: #5a6066;
  --color-accent: #1c7d6e; /* vert bleuté sobre */
  --color-accent-alt: #145449;
  --radius-sm: 4px;
  --radius-md: 8px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
  --shadow-md: 0 2px 6px rgba(0,0,0,.08);
  --max-w: 1080px;
  --transition: .18s cubic-bezier(.4,0,.2,1);
  font-size: 16px;
}
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif; background: var(--color-bg); color: var(--color-text); line-height: 1.55; }
img { max-width:100%; height:auto; }
a { color: var(--color-accent); text-decoration:none; }
a:hover { text-decoration:underline; }

/* Layout */
.container { width:100%; max-width: var(--max-w); margin:0 auto; padding:0 1.25rem; }
.site-header { background:#fff; border-bottom:1px solid var(--color-border); position:sticky; top:0; z-index:10; }
.flex { display:flex; }
.between { justify-content:space-between; }
.center-v { align-items:center; }
.logo { font-weight:600; font-size:1.05rem; letter-spacing:.5px; display:inline-flex; align-items:center; gap:.55rem; }
.logo-mark { display:block; filter:contrast(1.05); }
.logo-text { line-height:1; }
.main-nav a { margin-left:1rem; font-size:.95rem; }
  .card { transition: box-shadow var(--transition), transform var(--transition), border-color var(--transition); }
  .card:hover { box-shadow: var(--shadow-md); transform:translateY(-2px); border-color: var(--color-accent); }
.main-nav a.btn { margin-left:1.5rem; }
.site-main { padding-bottom:4rem; }
  .solution-card { transition: box-shadow var(--transition), transform var(--transition), border-color var(--transition), background var(--transition); }
  .solution-card:hover { box-shadow: var(--shadow-md); transform:translateY(-3px); border-color: var(--color-accent); }
.site-footer { background: var(--color-surface); border-top:1px solid var(--color-border); padding:2.5rem 0; font-size:.9rem; margin-top:4rem; }
.grid-footer { display:grid; gap:2rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
  .info-box { transition: box-shadow var(--transition), border-color var(--transition), background var(--transition); }
  .info-box:hover { box-shadow: var(--shadow-md); border-color: var(--color-accent); }

/* Hero */
  .process-steps .step { transition: box-shadow var(--transition), transform var(--transition), border-color var(--transition); }
  .process-steps .step:hover { box-shadow: var(--shadow-md); transform:translateY(-2px); border-color: var(--color-accent); }
.hero { padding:4.5rem 0 3.5rem; background: linear-gradient(135deg,#ffffff 0%,#eef3f4 60%,#e5eeee 100%); }
.hero { position:relative; overflow:hidden; }
  .faq details { transition: box-shadow var(--transition), border-color var(--transition), background var(--transition); }
  .faq details:hover { border-color: var(--color-accent); }
/* Watermark hero */
.hero:before {
  content:"";
    .solution-card:hover { border-color: var(--color-accent); }
  position:absolute;
  inset:0;
  background-image:url('/logo.svg');
  background-repeat:no-repeat;
    .info-box:hover { border-color: var(--color-accent); }
  background-position: right -18px center;
  background-size: clamp(480px,60vw,660px) auto;
  opacity: var(--hero-watermark-opacity, .17);
  pointer-events:none;
    .process-steps .step:hover { border-color: var(--color-accent); }
  mix-blend-mode: multiply;
  transition: opacity .5s ease;
}

    .faq details:hover { border-color: var(--color-accent); }
@media (max-width: 820px){
  .hero:before { background-position: right -52px center; background-size: clamp(380px,72vw,520px) auto; opacity:.15; }
  /* Tables responsive & lisibilité */
  .table-wrapper { width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; margin:1rem 0 1.5rem; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:var(--color-surface); }
  .table-wrapper table { width:100%; border-collapse:collapse; font-size:.85rem; }
  .table-wrapper th, .table-wrapper td { padding:.55rem .7rem; text-align:left; border-bottom:1px solid var(--color-border); }
  .table-wrapper th { background: var(--color-bg); font-weight:600; font-size:.75rem; text-transform:uppercase; letter-spacing:.5px; }
  .table-wrapper tr:last-child td { border-bottom:none; }
  .table-wrapper tbody tr:nth-child(odd) { background: rgba(0,0,0,.015); }
  .table-wrapper tbody tr:hover { background: rgba(0,0,0,.04); }
  .table-wrapper caption { text-align:left; font-size:.7rem; padding:.4rem .5rem; color: var(--color-muted); letter-spacing:.5px; }
  @media (prefers-color-scheme: dark){
    .table-wrapper { background:#1d2526; border-color:#30393b; }
    .table-wrapper th { background:#151c1d; }
    .table-wrapper tbody tr:nth-child(odd) { background: rgba(255,255,255,.03); }
    .table-wrapper tbody tr:hover { background: rgba(255,255,255,.06); }
  }

  /* Helper: transformer un tableau existant en wrapper via HTML manuel (ou short-code à l'avenir) */
  /* Exemple d'usage:
  <div class="table-wrapper">
    <table>
      <caption>Comparatif</caption>
      <thead>...</thead>
      <tbody>...</tbody>
    </table>
  </div>
  */
}
@media (max-width: 560px){
  .hero:before { background-position: center top; background-size: clamp(300px,78vw,400px) auto; opacity:.12; }
}
.hero h1 { font-size:clamp(1.9rem,4.5vw,2.6rem); line-height:1.15; margin-bottom:1rem; }
.hero .lead { font-size:1.1rem; max-width:720px; color:var(--color-muted); margin-bottom:1.5rem; }
/* .hero-logo removed in favor of background watermark */
.actions { display:flex; gap:1rem; flex-wrap:wrap; }

/* Buttons */
.btn { display:inline-block; background:var(--color-accent); color:#fff; padding:.75rem 1.25rem; border-radius:var(--radius-sm); font-weight:500; box-shadow:var(--shadow-sm); transition:var(--transition); }
.btn:hover { background:var(--color-accent-alt); text-decoration:none; }
.btn-outline { background:transparent; border:1px solid var(--color-accent); color:var(--color-accent); }
.btn-outline:hover { background:var(--color-accent); color:#fff; }
.btn-sm { padding:.5rem .9rem; font-size:.85rem; }

/* Packs */
.packs { padding:2rem 0 1rem; }
.packs h2 { margin-bottom:1.5rem; }
.cards { display:grid; gap:1.5rem; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); }
.card { background:#fff; border:1px solid var(--color-border); padding:1.25rem 1.15rem 1.3rem; border-radius:var(--radius-md); box-shadow:var(--shadow-sm); display:flex; flex-direction:column; }
.card h3 { margin-bottom:.6rem; font-size:1.05rem; }
.card p { font-size:.92rem; color:var(--color-muted); margin-bottom:.75rem; }
.card ul { list-style:disc inside; font-size:.8rem; color:var(--color-text); margin-top:auto; display:grid; gap:.25rem; }

/* Why */
.why { padding:2.5rem 0 1rem; }
.why h2 { margin-bottom:1.2rem; }
.grid-why { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
.why-item { background:#fff; border:1px solid var(--color-border); padding:1rem .9rem; border-radius:var(--radius-sm); font-size:.85rem; box-shadow:var(--shadow-sm); }
.why-item strong { display:block; margin-bottom:.3rem; font-size:.8rem; text-transform:uppercase; letter-spacing:.5px; }

/* Testimonial */
.testimonial { padding:2.5rem 0 2rem; }
.testimonial blockquote { background:#fff; border-left:4px solid var(--color-accent); padding:1.25rem 1.2rem; margin:0; border-radius:var(--radius-sm); box-shadow:var(--shadow-sm); }
.testimonial p { font-size:1rem; margin-bottom:.6rem; }
.testimonial cite { font-size:.8rem; color:var(--color-muted); font-style:normal; }

/* CTA */
.cta-contact { padding:2.5rem 0 3rem; text-align:center; }
.cta-contact h2 { margin-bottom:.6rem; }
.cta-contact p { margin-bottom:1.2rem; color:var(--color-muted); }

/* Section watermark (contact) */
.section-watermark-left { position:relative; overflow:hidden; }
.section-watermark-left:before {
  content:"";
  position:absolute; inset:0;
  background:url('/logo.svg') no-repeat left -40px center;
  background-size: clamp(360px,58vw,640px) auto;
  opacity:.17; /* aligné sur hero (var défaut) */
  pointer-events:none;
  mix-blend-mode:multiply;
  transition:opacity .4s ease, background-position .4s ease;
}
@media (max-width:820px){
  .section-watermark-left:before { background-position: left -70px center; background-size: clamp(300px,70vw,480px) auto; opacity:.15; }
}
@media (max-width:560px){
  .section-watermark-left:before { background-position:center top; background-size: clamp(260px,80vw,400px) auto; opacity:.13; }
}

/* Page watermark */
.page { position:relative; }
.page:after {
  content:"";
  position:absolute; top:60px; right:-120px; bottom:0; width:560px;
  background:url('/logo.svg') no-repeat right center;
  background-size: clamp(320px,42vw,540px) auto;
  opacity:.08;
  pointer-events:none;
  mix-blend-mode:multiply;
}
@media (max-width:900px){
  .page:after { right:-180px; opacity:.07; background-size: clamp(300px,55vw,480px) auto; }
}
@media (max-width:640px){
  .page:after { display:none; }
}

/* Page layout */
.page header { margin:2.5rem 0 1.2rem; }
.page-desc { color:var(--color-muted); font-size:1rem; margin-top:.5rem; }
.page-body { display:grid; gap:1.25rem; }
.page-body h2 { margin-top:1.5rem; }
:root { --measure: 65ch; } .page-body > p { max-width: var(--measure); }

/* Timeline (parcours) */
.timeline { display:grid; gap:.9rem; margin:1rem 0 0; }
.timeline details { background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-sm); padding:.55rem .85rem .7rem; position:relative; transition:var(--transition); }
.timeline details[open] { box-shadow: var(--shadow-md); }
.timeline summary { cursor:pointer; list-style:none; display:flex; flex-wrap:wrap; align-items:baseline; justify-content:flex-start; gap:.75rem; font-weight:500; text-align:left; }
.timeline summary::-webkit-details-marker { display:none; }
.timeline .period { font-size:.75rem; background:var(--color-accent); color:#fff; padding:.25rem .55rem; border-radius:999px; letter-spacing:.5px; font-weight:600; }
.timeline .role { font-size:.95rem; }
.timeline .body { margin:.65rem 0 .2rem 0; font-size:.85rem; line-height:1.55; color: var(--color-muted); text-align:left; padding:0 .15rem .3rem .15rem; }
.timeline .badges { display:flex; flex-wrap:wrap; gap:.4rem; justify-content:flex-start; margin:.45rem 0 .65rem; }
.timeline .badges span { background: var(--color-accent); color:#fff; font-size:.62rem; padding:.27rem .55rem .3rem; letter-spacing:.5px; border-radius:999px; font-weight:600; box-shadow:var(--shadow-sm); }
.timeline details[open] .badges span { filter:brightness(1.05); }
.timeline details:not([open]) .body { display:none; }
.timeline details:before { content:""; position:absolute; left:-12px; top:14px; width:8px; height:8px; background:var(--color-accent); border-radius:50%; box-shadow:0 0 0 3px var(--color-bg); }
.timeline details { border-left:3px solid var(--color-accent); }

@media (max-width:640px){
  .timeline summary { gap:.5rem; }
  .timeline .role { flex:1 1 100%; }
}

/* Footer */
.site-footer h4 { margin-bottom:.5rem; font-size:.8rem; text-transform:uppercase; letter-spacing:.6px; }
.site-footer ul { list-style:none; display:grid; gap:.35rem; }
.site-footer a { color:var(--color-text); }
.site-footer a:hover { color:var(--color-accent); }

/* Lien mémo discret */
.memo-link { font-size:.65rem; opacity:.35; margin-left:.35rem; }
.memo-link a { color:inherit; text-decoration:none; border-bottom:1px dotted transparent; }
.memo-link a:hover { opacity:.85; border-color:currentColor; }

/* Utilities */
.lead { font-weight:400; }

/* Slices / Sections rythmées */
.slice { padding:3rem 0 2.5rem; position:relative; }
.slice.alt { background: linear-gradient(135deg,#f3f6f7 0%,#e8eef0 100%); }
.slice.accent { background: linear-gradient(135deg,#e7f5f2 0%,#d6ece7 100%); }
@media (prefers-color-scheme: dark){
  .slice.alt { background: linear-gradient(135deg,#161d1e 0%,#121819 100%); }
  .slice.accent { background: linear-gradient(135deg,#142320 0%,#10201d 100%); }
}

/* Cartes de synthèse Solutions */
.solution-cards { display:grid; gap:1.25rem; grid-template-columns: repeat(auto-fit,minmax(230px,1fr)); margin:1.5rem 0 1rem; }
.solution-card { background:#fff; border:1px solid var(--color-border); border-radius:var(--radius-md); padding:1rem .95rem 1.1rem; box-shadow:var(--shadow-sm); position:relative; display:flex; flex-direction:column; gap:.55rem; }
.solution-card h3 { font-size:1rem; margin:0; display:flex; align-items:center; gap:.4rem; }
.solution-card .tagline { font-size:.8rem; color:var(--color-muted); line-height:1.3; }
.solution-card ul { list-style:disc inside; font-size:.7rem; display:grid; gap:.2rem; margin:0; }
.solution-card a.more { margin-top:auto; font-size:.7rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; }
@media (prefers-color-scheme: dark){
  .solution-card { background:#1d2526; border-color:#30393b; }
}

/* Layout pack détaillé */
.pack-layout { display:grid; gap:1.8rem; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); margin-top:1.2rem; align-items:start; }
.info-box { background: var(--color-bg); border:1px solid var(--color-border); padding:1rem .9rem 1.05rem; border-radius:var(--radius-md); box-shadow:var(--shadow-sm); font-size:.82rem; display:grid; gap:.6rem; }
.info-box h4 { margin:0 0 .2rem; font-size:.75rem; text-transform:uppercase; letter-spacing:.6px; }
.info-box ul { list-style:disc inside; padding:0; margin:0; display:grid; gap:.25rem; }
@media (prefers-color-scheme: dark){
  .info-box { background:#1d2526; border-color:#30393b; }
}

/* Process Steps */
.process-steps { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); margin:1.5rem 0 1rem; counter-reset: step; }
.process-steps .step { background:#fff; border:1px solid var(--color-border); border-radius:var(--radius-sm); padding:.9rem .8rem .95rem; font-size:.78rem; line-height:1.4; position:relative; box-shadow:var(--shadow-sm); }
.process-steps .step:before { counter-increment: step; content: counter(step); position:absolute; top:-10px; left:-10px; width:26px; height:26px; background:var(--color-accent); color:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:.7rem; font-weight:600; box-shadow:0 2px 4px rgba(0,0,0,.15); }
@media (prefers-color-scheme: dark){
  .process-steps .step { background:#1d2526; border-color:#30393b; }
}

/* FAQ */
.faq { margin:1.5rem 0; display:grid; gap:.8rem; }
.faq details { background:#fff; border:1px solid var(--color-border); border-radius:var(--radius-md); padding:.7rem .85rem .8rem; box-shadow:var(--shadow-sm); font-size:.85rem; }
.faq summary { cursor:pointer; font-weight:600; list-style:none; }
.faq summary::-webkit-details-marker { display:none; }
.faq details[open] { box-shadow:var(--shadow-md); }
.faq p { margin:.6rem 0 0; font-size:.8rem; color:var(--color-muted); }
@media (prefers-color-scheme: dark){
  .faq details { background:#1d2526; border-color:#30393b; }
}

/* Responsive tweaks */
@media (max-width:760px){
  .hero { padding:3.5rem 0 2.5rem; }
  .actions { flex-direction:column; align-items:flex-start; }
  .main-nav a { margin-left:.75rem; }
  .site-header .container { flex-wrap:wrap; }
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root {
    --color-bg: #111516;
    --color-surface: #1b2223;
    --color-border: #2d3436;
    --color-text: #f2f5f6;
    --color-muted: #859095;
    --color-accent: #35b39e;
    --color-accent-alt: #27907f;
    --shadow-sm: 0 1px 2px rgba(0,0,0,.5);
    --shadow-md: 0 2px 6px rgba(0,0,0,.55);
  }
  body { background: var(--color-bg); color: var(--color-text); }
  .site-header { background:#151a1b; border-color:#242c2e; }
  .site-footer { background:#151a1b; border-color:#242c2e; }
  .card, .why-item, .testimonial blockquote { background:#1d2526; border-color:#30393b; }
  .packs, .why, .testimonial, .cta-contact { background: linear-gradient(180deg,#161c1e 0%,#111516 100%); }
  .hero { background: linear-gradient(135deg,#141a1b 0%,#1d2627 60%,#182021 100%); }
  .hero:before { opacity:.24; filter:brightness(.85) contrast(1.1) saturate(.85); mix-blend-mode:luminosity; }
  a { color: var(--color-accent); }
  .btn-outline { border-color: var(--color-accent); color: var(--color-accent); }
  .btn-outline:hover { background: var(--color-accent); color:#0f1516; }
  .card p, .lead, .page-desc { color: var(--color-muted); }
  .testimonial blockquote { border-left-color: var(--color-accent); }
  .site-footer a { color: var(--color-muted); }
  .site-footer a:hover { color: var(--color-accent); }
  .timeline details { background:#1d2526; border-color:#30393b; }
  .timeline .body { color: var(--color-muted); }
  .timeline details:before { box-shadow:0 0 0 3px #151a1b; }
  /* Hover accentuation légère */
  .card:hover, .why-item:hover, .timeline details[open] { border-color:#3a4547; }
  /* Focus visible accessible */
  a:focus-visible, button:focus-visible, .btn:focus-visible, summary:focus-visible { outline:2px solid var(--color-accent); outline-offset:2px; border-radius:4px; }
  /* Transition harmonisée */
  .card, .why-item, .timeline details { transition: border-color .25s ease, box-shadow .25s ease, background .25s ease; }
}
